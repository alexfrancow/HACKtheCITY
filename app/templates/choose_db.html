{% extends "layout.html" %}
{% block title %}hackcity{% endblock %}
{% block content %}


<div class="card container d-flex h-100" style="width: 48rem; margin-top:5%;">
  <img class="card-img-top" src="../static/img/city.jpg#" alt="Card image cap">
  <div class="card-body">
    <h2 class="card-title"></h2>
    <i class="card-text">*Only for research proposes</i>
  </div>
  <div class="card-body">
   <form action="/use_db" method="post" id="installation">


	<ul>
	{% for db in dbs %}
<div class="form-check">
     <label class="form-check-label">
        <input type="radio" class="form-check-input" name="city" value="{{ db }}"> {{ db }}
     </label>
    </div>
	{% endfor %}

	</ul>

    <button type="submit" id="setup" class="btn btn-primary">Use DB</button>
   </form>

   <form action="/create_db">
	<button type="submit" class="btn btn-success">Add New</button>
</form>

  <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
		<p id="changeText" style="margin-left:1%;"></p>
            </div>

   

  </div>
</div>

{% endblock %}
{% block footer %}
    <script>
        $(document).ready(function() {
            $('.progress').hide();
	    $('#advancedOptions').hide();
        });
  </script>
 

   <script>
        $(document).ready(function(){
            $("#setup").click(function(){
                $(".progress").toggle();
		$("form").toggle();
                $(".progress-bar").animate({
                    width: "65%"
                }, 5000);
		var wordsArray = ["Starting containers...", "Launching ZABBIX discoveries..."];
		var time = 0;
		$.each(wordsArray, function(index, value) {
	      		function delayed() {
    				$("#changeText").html(value);
      			};
      			setTimeout( delayed , time );
      			time += 4000;
		});

		});
  	});
    </script>

{% endblock %}
